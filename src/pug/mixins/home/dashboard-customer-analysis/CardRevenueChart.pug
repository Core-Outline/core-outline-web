mixin CardCrmRevenueChart
  -
    var recentLeadsItem = [
      {
        name: 'Kerry Ingram',
        img:'team/1-thumb.png',
        email: 'john@gmail.com',
        mrr: 'New Lead',
        ltv: 'primary',
        recency_score: 'primary',
        frequency_score:'3',
        arpu:'1200'
      },
      {
        name: 'Bradie Knowall',
        img:'team/2-thumb.png',
        email: 'bradie@mail.ru',
        mrr: 'New Lead',
        ltv: 'primary',
        recency_score: 'primary',
        frequency_score:'3',
        arpu:'1200'
      },
      {
        name: 'Jenny Horas',
        img:'team/3-thumb.png',
        email: 'jenny@mail.ru',
        mrr: 'New Lead',
        ltv: 'primary',
        recency_score: 'primary',
        frequency_score:'3',
        arpu:'1200'
      },
      {
        name: 'Chris Pratt',
        img:'team/4-thumb.png',
        email: 'pratt@mail.ru',
        mrr: 'New Lead',
        ltv: 'primary',
        recency_score: 'primary',
        frequency_score:'3',
        arpu:'1200'
      },
      {
        name: 'Andy Murray',
        img:'team/5-thumb.png',
        email: 'andy@gmail.com',
        mrr: 'New Lead',
        ltv: 'primary',
        recency_score: 'primary',
        frequency_score:'3',
        arpu:'1200'
      },
    ]

  .card
    .card-header.d-flex.flex-between-center.ps-0.py-0.border-bottom

      ul#crm-revenue-chart-tab.nav.nav-tabs.border-0.flex-nowrap.tab-active-caret(role='tablist' data-tab-has-echarts)
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0.active#crm-revenue-tab(data-bs-toggle='tab' href='#crm-revenue' role='tab' aria-controls='crm-revenue' aria-selected='true') High ARPU
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-users-tab(data-bs-toggle='tab' href='#crm-users' role='tab' aria-controls='crm-users' aria-selected='false') Low ARPU
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-deals-tab(data-bs-toggle='tab' href='#crm-deals' role='tab' aria-controls='crm-deals' aria-selected='false') High MRR
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') Low MRR
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') Repeat Customers
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') Churned
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') Recent
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') High LTV
        li.nav-item(role='presentation')
          a.nav-link.py-3.mb-0#crm-profit-tab(data-bs-toggle='tab' href='#crm-profit' role='tab' aria-controls='crm-profit' aria-selected='false') Low LTV
      +DashboardDropdown('dropdown-session-by-country')

    .card-body
      .row.g-1
        .col-xxl-3
          //- +RevenueStats
        .col-xxl-9
          .tab-content
            // Find the JS file for the following chart at: src/js/charts/echarts/crm-revenue.js
            // If you are not using gulp based workflow, you can find the transpiled code at: public/assets/js/theme.js
            .tab-pane.active#crm-revenue(role='tabpanel' aria-labelledby='crm-revenue-tab')
              //- .echart-crm-revenue(data-echart-responsive="true" data-echart-tab style='height:320px;')
              +RecentLeadsTable
            .tab-pane#crm-users(role='tabpanel' aria-labelledby='crm-users-tab')
              //- .echart-crm-users(data-echart-responsive="true" data-echart-tab style='height:320px;')
              +RecentLeadsTable
            .tab-pane#crm-deals(role='tabpanel' aria-labelledby='crm-deals-tab')
              //- .echart-crm-deals(data-echart-responsive="true" data-echart-tab style='height:320px;')
              +RecentLeadsTable
            .tab-pane#crm-profit(role='tabpanel' aria-labelledby='crm-profit-tab')
              //- .echart-crm-profit(data-echart-responsive="true" data-echart-tab style='height:320px;')
              +RecentLeadsTable
      
mixin RevenueStats
  .row.g-0.my-2
    .col-md-6.col-xxl-12
      .border-bottom-xxl.border-200.mb-2
        h2.text-primary $37,950
        p.fs--2.text-500.fw-semi-bold.mb-0
          span.fas.fa-circle.text-primary.me-2
          | Closed Amount
        p.fs--2.text-500.fw-semi-bold
          span.fas.fa-circle.text-warning.me-2
          | Revenue Goal
      .form-check.form-check-inline.me-2
        input#crmInbound.form-check-input(type='radio', name='bound', value='inbound' Checked)
        label.form-check-label(for='crmInbound') Inbound
      .form-check.form-check-inline
        input#outbound.form-check-input(type='radio', name='bound', value='outbound')
        label.form-check-label(for='outbound') Outbound
    .col-md-6.col-xxl-12.py-2
      .row.mx-0
        .col-6.border-end.border-bottom.py-3
          h5.fw-normal.text-600 $4.2k
          h6.text-500.mb-0 Email
        .col-6.border-bottom.py-3
          h5.fw-normal.text-600 $5.6k
          h6.text-500.mb-0 Social
        .col-6.border-end.py-3
          h5.fw-normal.text-600 $6.7k
          h6.text-500.mb-0 Call
        .col-6.py-3
          h5.fw-normal.text-600 $2.3k
          h6.text-500.mb-0 Other

mixin RecentLeadsTable     
  .table-responsive.scrollbar
    table.table.fs--1.mb-0
      thead.bg-200.text-800
        tr
          th.white-space-nowrap.align-middle.py-0(style="max-width: 30px;")
            .form-check.mb-0.d-flex.align-items-center
              input.form-check-input.mt-0#checkbox-bulk-leads-select(
                type='checkbox' 
                data-bulk-select!={
                  body: "table-recent-leads-body",
                  actions: "table-recent-leads-actions",
                  replacedElement: "table-recent-leads-replace-element"
                }
              )
          th.sort.align-middle(data-sort="name") Name
          th.sort.align-middle(data-sort="email") Email and Phone
          th.sort.align-middle(data-sort="mrr") MRR
          th.sort.align-middle(data-sort="ltv") LTV
          th.sort.align-middle(data-sort="ltv") Recency Score
          th.sort.align-middle(data-sort="ltv") Frequency Score
          th.sort.align-middle(data-sort="ltv") ARPU
          th.sort.align-middle.text-end Action
      tbody.list#table-recent-leads-body
        each person, index in recentLeadsItem
          +RecentLeadsTableItem(person, index)

mixin RecentLeadsTableItem(config, index)
   tr.hover-actions-trigger.btn-reveal-trigger.hover-bg-100
    td.align-middle(style="max-width: 30px;")
      .form-check.mb-0
        input.form-check-input(
          type='checkbox' 
          id=`recent-leads-${index}`
          data-bulk-select-row
        )
    td.align-middle.white-space-nowrap
      a.text-800(href=`${CWD}pages/user/profile.html`)
        .d-flex.align-items-center
          +Avatar({img: `${config.img}`, size: 'xl'})
          h6.mb-0.ps-2.name #{config.name}
    td.align-middle.white-space-nowrap.text-primary.email
      a(href=`mailto:${config.email}`)=config.email
    td.align-middle.white-space-nowrap.text-primary.email
      h6.mb-0.ps-2.name #{config.mrr}
    td.align-middle.white-space-nowrap.text-primary.email
      h6.mb-0.ps-2.name #{config.ltv}
    td.align-middle.white-space-nowrap.text-primary.email
      h6.mb-0.ps-2.name #{config.recency_score}
    td.align-middle.white-space-nowrap.text-primary.email
      h6.mb-0.ps-2.name #{config.frequency_score}
    td.align-middle.white-space-nowrap.text-primary.email
      h6.mb-0.ps-2.name #{config.arpu}
    //- td.align-middle.white-space-nowrap
    //-   small.badge.fw-semi-bold.rounded-pill.status(class = `badge-subtle-${config.color}`)  #{config.status}
    //- td.align-middle.white-space-nowrap.text-primary.email
    //-   h6.mb-0.ps-2.name #{config.mrr}
    td.align-middle.white-space-nowrap.text-end.position-relative
      .hover-actions.bg-100
        button.btn.icon-item.rounded-3.me-2.fs--2.icon-item-sm
          span.far.fa-edit
        button.btn.icon-item.rounded-3.me-2.fs--2.icon-item-sm
          span.far.fa-comment
      +DashboardDropdown(`crm-recent-leads-${index}`, 'sm').transition-none